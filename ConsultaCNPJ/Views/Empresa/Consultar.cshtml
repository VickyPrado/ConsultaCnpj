@model List<ConsultaCNPJ.Models.Empresa>

<h2>Consultar CNPJ</h2>

<form method="post" asp-action="Consultar">
    <label for="cnpjs">CNPJs (separados por vírgula):</label>
    <input type="text" name="cnpjs" maxlength="500" placeholder="Ex.: 14.380.200/0001-21" />
    <button type="submit">Consultar</button>
</form>

@if (TempData["Mensagem"] != null)
{
    <p id="mensagem-sucesso" style="color: green;">@TempData["Mensagem"]</p>
}

@if (ViewBag.Erro != null)
{
    <p style="color: red;">@ViewBag.Erro</p>
}

@if (Model != null && Model.Any())
{
    <h3>Empresas Cadastradas</h3>
    <ul>
        @foreach (var empresa in Model)
        {
            <li>@empresa.Cnpj - @empresa.Nome</li>
        }
    </ul>
}
else if (ViewBag.Erro != null || TempData["Mensagem"] != null)
{
    <p>Nenhuma empresa cadastrada.</p>
}

<script>
    setTimeout(function() {
        var mensagem = document.getElementById("mensagem-sucesso");
        if (mensagem) {
            mensagem.style.display = "none";
        }
    }, 4000);
</script>